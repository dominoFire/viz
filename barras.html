<!DOCTYPE html>

<html>
  <head>
  	<meta charset="utf-8">
  	<script src="d3/d3.v3.js" type="text/javascript"></script>
    <style type="text/css">
      body {
        font-family: 'Verdana';
      }
    </style>
  </head>
  <body>
  	<script type="text/javascript">
  		function getColor(num)
  		{
  				if(num==0) return "#ff0000";
					if(num==1) return "#ffff00";
					if(num==2) return "#ff00ff";
					if(num==3) return "#aa3639";
  		}

  		d3.csv("data/enigh-2010-secc7.1.csv")
        .row(function(d) {
          return { nivel: +d.Nivel, rubro: d.Rubro, gasto: +d.GastoProm };
        })
        .get(function(error, rows) {
        	d3.select("body")
        		.selectAll("div")
        		.data(rows)
        		.enter()
        		.append("div")
        		.text(function(d){ return d.rubro; })
        		.style("clear", "both")
        		.style("float", "left")
        		.style("margin-left", function(d) { return d.nivel*20 + "px"; })
        		.style("background-color", function(d) { return getColor(d.nivel); })
        		//.style("height", "50px")
        		.style("width", function(d) { return (600 + d.gasto*100) + "px"; });
        });
  	</script>
  </body>
</html>
